<div class="container">
  <div class="left">
    <!-- Left section content -->
    <div class="profile-header">
      <img src="./assets/logo/staff.png" alt="Profile Picture" />
      <h2 class="faculty-profile-name">{{ data.name }}</h2>
      <p>Faculty</p>
    </div>
    <div class="profile-body">
      <div class="profile-info">
        <p><strong>ID: </strong>{{ data.uid }}</p>
        <p><strong>Name: </strong>{{ data.name }}</p>
        <p>
          <strong>Department: </strong>
          <span *ngIf="data.department_id === 1">CSE</span>
          <span *ngIf="data.department_id === 2">AI&DS</span>
          <span *ngIf="data.department_id === 3">ECE</span>
          <span *ngIf="data.department_id === 4">CSBS</span>
          <span *ngIf="data.department_id === 5">IT</span>
          <span *ngIf="data.department_id === 6">S&H</span>
        </p>
        <p><strong>Links:</strong></p>
        <div class="profile-info-links">
          <ul id="navlogin">
            <li>
              <button class="table-btn" (click)="navigateWithData()">Faculty table ></button>
            </li>
            <li>
              <button class="logout-btn" (click)="navigateToOut()">|< Logout</button>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <div class="right">
    <!-- Right section content -->
    <div class="nametext">
      <p class="greeting">Welcome Faculty - {{ name }}</p>
    </div>

    <div *ngFor="let item of courseDataCurrent; let i = index" class="progress-container">
      <p class="facultyprogress">Course {{courseDataOverall[i].course_code}}</p>
      <label for="facultyprogress">Current Progress:</label>
      <div class="progressbar-horizontal">
        <div class="progresscolor" [style.background-color]="item.bar_color"></div>
        <p>{{item.completed_hours}} / {{item.total_hours}}</p>
      </div>
    

    <div class="progress-container">
      <label for="facultyprogress">Overall Progress:</label>
      <div class="progressbar-horizontal">
        <progress class="progressbars" [value]="courseDataOverall[i].count" [max]="courseDataOverall[i].total_count">{{courseDataOverall[i].completed_hours}}</progress>
        <p>{{courseDataOverall[i].count}} / {{courseDataOverall[i].total_count}}</p>
      </div>
    </div>
  </div>
    <div class="piechart-container">
      <div class="mainChart">
        <canvas id="MyChart">{{ chart }}</canvas>
      </div>
      <div class="subcharts">
        <div #chartContainer class="chart-container"></div>
      </div>
    </div>
    
  </div>
</div>

<style>
  * {
    font-family: 'Poppins', sans-serif;
    list-style: none;
  }

  .progress-container {
    margin-bottom: 1rem;
  }

  .progressbar-horizontal {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .progresscolor {
    width: 10px;
    height: 20px;
    display: inline-block;
  }

  .progressbars {
    width: 95%;
  }

  .piechart-container {
  display: flex;
  flex-direction: row;
  justify-content: space-around; /* Distributes space evenly between charts */
  align-items: center; /* Center aligns the items vertically */
  background-color: lightcyan;
  padding: 2rem;
  border-radius: 10px;
  margin-top: 2rem;
  gap: 2rem; /* Space between the charts */
  
  /* Drop shadow */
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); /* Horizontal offset, Vertical offset, Blur radius, Color */
}


.mainChart, .subcharts {
    width: 300px; /* Ensure both charts have the same width */
    height: 350px; /* Ensure both charts have the same height */
    display: flex; /* Center the canvas within the div */
    justify-content: center; /* Center the canvas horizontally */
    align-items: center; /* Center the canvas vertically */
}

.mainChart canvas, .subcharts .chart-container {
    width: 100%; /* Ensure the content inside takes full width */
    height: 100%; /* Ensure the content inside takes full height */
    /* Add any additional styles for canvas here */
}



  @media (max-width: 768px) {
    .container {
      flex-direction: column;
    }

    .left {
      width: 100%;
      position: relative;
      margin-bottom: 2rem;
    }

    .right {
      margin-left: 0;
      padding: 1rem;
    }

    .profile-header img {
      width: 100px;
      height: 100px;
    }

    .greeting {
      font-size: 1.8rem;
    }

    .progress-container {
      margin-bottom: 0.5rem;
    }

    .progressbar-horizontal {
      justify-content: flex-start;
    }
  }

  @media screen and (max-width: 480px) {
    .profile-header h2 {
      font-size: 1.4rem;
    }

    .greeting {
      font-size: 1.6rem;
    }
  }
</style>
